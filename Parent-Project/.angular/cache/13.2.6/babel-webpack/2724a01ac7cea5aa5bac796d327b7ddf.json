{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction TimetableDayComponent_div_7_div_11_h4_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Start: \", period_r1.startDate.getHours(), \":\", (\"0\" + period_r1.startDate.getMinutes()).slice(-2), \"am \");\n  }\n}\n\nfunction TimetableDayComponent_div_7_div_11_h4_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Start: 12:\", (\"0\" + period_r1.startDate.getMinutes()).slice(-2), \"pm \");\n  }\n}\n\nfunction TimetableDayComponent_div_7_div_11_h4_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Start: \", period_r1.startDate.getHours() - 12, \":\", (\"0\" + period_r1.startDate.getMinutes()).slice(-2), \"pm \");\n  }\n}\n\nfunction TimetableDayComponent_div_7_div_11_h4_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" End: \", period_r1.endDate.getHours(), \":\", (\"0\" + period_r1.endDate.getMinutes()).slice(-2), \"am \");\n  }\n}\n\nfunction TimetableDayComponent_div_7_div_11_h4_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" End: 12:\", (\"0\" + period_r1.endDate.getMinutes()).slice(-2), \"pm \");\n  }\n}\n\nfunction TimetableDayComponent_div_7_div_11_h4_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" End: \", period_r1.endDate.getHours() - 12, \":\", (\"0\" + period_r1.endDate.getMinutes()).slice(-2), \"pm \");\n  }\n}\n\nfunction TimetableDayComponent_div_7_div_11_h4_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Remaining mins: \", ctx_r9.minutesRemaining, \" \");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"highlight\": a0\n  };\n};\n\nfunction TimetableDayComponent_div_7_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, TimetableDayComponent_div_7_div_11_h4_1_Template, 2, 2, \"h4\", 12);\n    i0.ɵɵtemplate(2, TimetableDayComponent_div_7_div_11_h4_2_Template, 2, 1, \"h4\", 12);\n    i0.ɵɵtemplate(3, TimetableDayComponent_div_7_div_11_h4_3_Template, 2, 2, \"h4\", 12);\n    i0.ɵɵtemplate(4, TimetableDayComponent_div_7_div_11_h4_4_Template, 2, 2, \"h4\", 12);\n    i0.ɵɵtemplate(5, TimetableDayComponent_div_7_div_11_h4_5_Template, 2, 1, \"h4\", 12);\n    i0.ɵɵtemplate(6, TimetableDayComponent_div_7_div_11_h4_6_Template, 2, 2, \"h4\", 12);\n    i0.ɵɵtemplate(7, TimetableDayComponent_div_7_div_11_h4_7_Template, 2, 1, \"h4\", 12);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c0, period_r1.isCurrent === true));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.startDate.getHours() < 12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.startDate.getHours() == 12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.startDate.getHours() > 12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.endDate.getHours() < 12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.endDate.getHours() == 12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.endDate.getHours() > 12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", period_r1.isCurrent);\n  }\n}\n\nfunction TimetableDayComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"h1\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"h4\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h4\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h4\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, TimetableDayComponent_div_7_div_11_Template, 8, 10, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const period_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, period_r1.isCurrent === true));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(period_r1.period[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, period_r1.isCurrent === true));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(period_r1.classname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(period_r1.location);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(period_r1.teacher.toLowerCase());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.doTimes);\n  }\n}\n\nexport let TimetableDayComponent = /*#__PURE__*/(() => {\n  class TimetableDayComponent {\n    constructor() {\n      this.dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n      this.isToday = false;\n      this.displayClasses = true; // Tracks wether to display start/end times OR classes\n    }\n\n    ngOnInit() {\n      // Process whether or not the period/day should be highlighted\n      let today = new Date();\n\n      for (var i = 0; i < this.timetableData.length; i++) {\n        this.timetableData[i][\"classname\"] = this.timetableData[i][\"classname\"].split(\":\")[1];\n\n        if (this.isCurrentWeek && this.timetableData[i].startDate.getDay() == today.getDay()) {\n          // If the period is in the correct week (A or B) AND the same day as today\n          this.isToday = true; // If the current time is between the start and end times for the period\n\n          let startTime = new Date(today.getTime());\n          startTime.setMinutes(this.timetableData[i][\"startDate\"].getMinutes());\n          startTime.setHours(this.timetableData[i][\"startDate\"].getHours());\n          let endTime = new Date(today.getTime());\n          endTime.setMinutes(this.timetableData[i][\"endDate\"].getMinutes());\n          endTime.setHours(this.timetableData[i][\"endDate\"].getHours());\n\n          if (startTime < today && endTime > today) {\n            this.timetableData[i]['isCurrent'] = true;\n            this.minutesRemaining = Math.round(endTime.getTime() - today.getTime()) / 60000;\n          }\n        }\n      }\n\n      if (this.displayEmitter) {\n        this.displayEmitter.subscribe(() => {\n          this.displayClasses = !this.displayClasses;\n          let currentBoxes;\n          let newBoxes;\n\n          if (this.displayClasses) {\n            currentBoxes = document.getElementsByClassName(\"timeBox\");\n            newBoxes = document.getElementsByClassName(\"classBox\");\n          } else {\n            currentBoxes = document.getElementsByClassName(\"classBox\");\n            newBoxes = document.getElementsByClassName(\"timeBox\");\n          }\n\n          for (var i = 0; i < currentBoxes.length; i++) {\n            currentBoxes[i].animate([{\n              transform: 'rotateX(0)'\n            }, {\n              transform: 'rotateX(90deg)'\n            }], {\n              duration: 300,\n              iterations: 1\n            });\n          }\n\n          setTimeout(() => {\n            for (var i = 0; i < currentBoxes.length; i++) {\n              currentBoxes[i].classList.add(\"hide\");\n            }\n\n            for (var i = 0; i < newBoxes.length; i++) {\n              newBoxes[i].classList.remove(\"hide\");\n              newBoxes[i].animate([{\n                transform: 'rotateX(-90deg)'\n              }, {\n                transform: 'rotateX(0deg)'\n              }], {\n                duration: 300,\n                iterations: 1\n              });\n            }\n          }, 285);\n        });\n      }\n    }\n\n  }\n\n  TimetableDayComponent.ɵfac = function TimetableDayComponent_Factory(t) {\n    return new (t || TimetableDayComponent)();\n  };\n\n  TimetableDayComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TimetableDayComponent,\n    selectors: [[\"app-timetable-day\"]],\n    inputs: {\n      timetableData: \"timetableData\",\n      isCurrentWeek: \"isCurrentWeek\",\n      titleText: \"titleText\",\n      doTimes: \"doTimes\",\n      displayEmitter: \"displayEmitter\"\n    },\n    decls: 8,\n    vars: 6,\n    consts: [[1, \"table-container\"], [1, \"table-box\", \"heading-box\", 3, \"ngClass\"], [1, \"table-text\", \"heading-text\"], [\"class\", \"table-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"table-row\"], [1, \"table-box\", \"table-box-period\", 3, \"ngClass\"], [1, \"table-box\", \"table-box-contents\", \"classBox\", 3, \"ngClass\"], [1, \"table-text\", \"table-text-classname\"], [1, \"table-text\", \"table-text-location\"], [1, \"table-text\", \"table-text-teacher\"], [\"class\", \"table-box table-box-contents timeBox hide\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"table-box\", \"table-box-contents\", \"timeBox\", \"hide\", 3, \"ngClass\"], [\"class\", \"table-text table-text-classname\", 4, \"ngIf\"]],\n    template: function TimetableDayComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"h1\", 2);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(7, TimetableDayComponent_div_7_Template, 12, 11, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx.isToday === true));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.titleText);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.dayNames[ctx.timetableData[0].startDate.getDay()]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.timetableData);\n      }\n    },\n    directives: [i1.NgClass, i1.NgForOf, i1.NgIf],\n    styles: [\".table-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center}.table-row[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:row}.table-box[_ngcontent-%COMP%]{background-color:var(--bottom-bg-color);border-radius:10px 0;width:100%;height:95px;margin-bottom:15px}.table-box-period[_ngcontent-%COMP%]{flex:.15;text-align:center;margin-right:10px}.table-box-contents[_ngcontent-%COMP%]{flex:.85;display:flex;flex-direction:row;justify-content:left}.table-text[_ngcontent-%COMP%]{width:100%;margin-top:15px;margin-left:5px;text-align:center;text-transform:capitalize;overflow-x:hidden;height:100%}.table-text-heading[_ngcontent-%COMP%]{margin:5% auto auto;text-align:center}.table-text-classname[_ngcontent-%COMP%]{height:80%;overflow-y:hidden}.highlight[_ngcontent-%COMP%]{background-color:var(--mid-bg-color)}.heading-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.heading-text[_ngcontent-%COMP%]{margin:0!important;font-size:2rem}.hide[_ngcontent-%COMP%]{display:none}@keyframes spin-out{0%{transform:rotateX(0)}to{transform:rotateX(90deg)}}@keyframes spin-in{0%{transform:rotateX(90deg)}to{transform:rotateX(0)}}@media screen and (max-height: 900px){.table-box[_ngcontent-%COMP%]{height:70px}.heading-text[_ngcontent-%COMP%]{font-size:1.5rem}.table-text[_ngcontent-%COMP%]{margin-top:5px}}\"]\n  });\n  return TimetableDayComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}